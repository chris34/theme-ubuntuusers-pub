/**
 * Inyoka ubuntuusers.de theme
 * 2015-01-03 17:12:45
 * https://github.com/inyokaproject/theme-ubuntuusers
 * :copyright: (c) 2007-2015 by the Inyoka Team
 * :license: BSD
 */
$(function(){$("dt.collapse").each(function(){$(this).nextWhile("dd").addClass("collapse_enabled").toggle($(this).hasClass("has_errors")),$(this).click(function(){$(this).toggleClass("collapsed").nextWhile("dd").toggle()}).addClass("collapse_enabled collapsed")}),function(){$("#id_add_option").click(function a(){return count=$(".newtopic_polls_replies").length,$($(".newtopic_polls_replies")[count-1]).after('<dd class="newtopic_polls_replies collapse_enabled">Antwort '+(count+1)+': <input type="text" name="options" value="" /></dd>'),$("#id_add_option").remove(),$($(".newtopic_polls_replies")[count]).append(' <input type="submit" name="add_option" value="Weitere Antwort" id="id_add_option" />'),$("#id_add_option").click(a),!1})}(),function(){var a={};$('<a href="#" class="collapse" />').click(function(){var b=$(this).parent().parent();b.nextUntil("tr.head").toggle(),$(this).toggleClass("collapsed"),$("table.category_box tr.head").each(function(){a[this.id.substr(9)]=$("a.collapsed",this).length>0});var c=[];for(var d in a)a[d]&&c.push(d);return $.get("/",{__service__:"forum.toggle_categories",hidden:c}),!1}).prependTo("table.category_box tr.head th"),hideForumCategories=function(a){$("table.category_box tr.head").each(function(){$.inArray(parseInt(this.id.substr(9),10),a)>=0&&($(this).nextUntil("tr.head").hide(),$("a.collapse",this).addClass("collapsed"))})}}(),function(){$('select[name="ubuntu_version"]').change(function(){var a='<a href="{LL}">Dies</a> ist die momentane <a href="http://wiki.ubuntuusers.de/Entwicklungsversion">Entwicklungsversion</a> von Ubuntu',b='<a href="{LL}">Dies</a> ist eine <a href="http://wiki.ubuntuusers.de/Long_Term_Support">LTS (Long Term Support)</a> Version',c='<a href="{LL}">Dies</a> ist die momentan <a href="http://wiki.ubuntuusers.de/Downloads">aktuelle Version</a> von Ubuntu',d="/?__service__=forum.get_version_details",e=$(this).find("option:selected").val();if(!$.trim(e))return!1;var f=function(a,b){return a.replace(/\{LL\}/,b.link)};return $.getJSON(d,{version:e},function(d){d.dev?$("span#version_info").attr("class","unstable").html(f(a,d)):d.lts?$("span#version_info").attr("class","lts").html(f(b,d)):d.current?$("span#version_info").attr("class","current").html(f(c,d)):$("span#version_info").attr("class","").text("")}),!1})}(),function(){$(".splitinfo input").live("click",function(){var a=$(this),b=location.href.slice(location.href.indexOf("/topic/")+7);b=b.substring(0,b.indexOf("/")),post=a.attr("value"),type=a.attr("type"),other=$('.splitinfo input[name="'+("radio"==type?"select":"start")+'"]'),a.is(":checked")&&other.removeAttr("checked"),other.is(":checked")&&a.removeAttr("checked");var c="/?__service__=forum.mark_topic_split_point";return"radio"==a.attr("type")?$.getJSON(c,{post:a.attr("value"),from_here:!0,topic:b}):"checkbox"==a.attr("type")&&$.getJSON(c,{post:a.attr("value"),topic:b}),!0})}()}),$(document).ready(function(){$(".attachments ul").hide(),$(".attachments .title").click(function(){$(this).next("ul").toggle()}),$("a.collapse").click(function(){return $(this).next().toggle(),!1}),$("a.collapse").each(function(){$(this).next().toggle()})});