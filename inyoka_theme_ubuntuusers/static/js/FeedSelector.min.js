/**
 * Inyoka ubuntuusers.de theme
 * 2015-01-03 17:12:45
 * https://github.com/inyokaproject/theme-ubuntuusers
 * :copyright: (c) 2007-2015 by the Inyoka Team
 * :license: BSD
 */
!function(){function a(){var a={},b={},c=$("#forum")[0];c.component[0].checked?b.component="*":c.component[1].checked?(b.component="forum",c.forum.selectedIndex<=0?a.forum="Bitte ein Forum auswählen!":b.forum=c.forum.options[c.forum.options.selectedIndex].value):a.component="Ungültige Auswahl!",g(c,b,a);var d=!0;for(var e in a){d=!1;break}return d?(feed_url="*"==b.component?i+"feeds/"+b.mode+"/"+b.count+"/":i+"feeds/"+b.component+"/"+b.forum+"/"+b.mode+"/"+b.count+"/",$("#forum_feed_url").length||$("#forum_submit_p").prepend('<strong>Adresse des Feeds:</strong> <a id="forum_feed_url" href="about:blank">-</a></span><br/>'),$("#forum_feed_url").text(feed_url).attr("href",feed_url),feed_url):!1}function b(){var a={},b={},c=document.getElementById("ikhaya");b.category=c.category.options[c.category.options.selectedIndex].value,g(c,b,a);var d=!0;for(var e in a){d=!1;break}return d?(feed_url="*"==b.category?j+"feeds/"+b.mode+"/"+b.count+"/":j+"feeds/"+b.category+"/"+b.mode+"/"+b.count+"/",$("#ikhaya_feed_url").length||$("#ikhaya_submit_p").prepend('<strong>Adresse des Feeds:</strong> <a id="ikhaya_feed_url" href="about:blank">-</a></span><br/>'),$("#ikhaya_feed_url").text(feed_url).attr("href",feed_url),feed_url):!1}function c(){var a={},b={},c=!0,d=document.getElementById("planet");g(d,b,a);for(var e in a){c=!1;break}return c?(feed_url=k+"feeds/"+b.mode+"/"+b.count+"/",$("#planet_feed_url").length&&$("#planet_submit_p").prepend('<strong>Adresse des Feeds:</strong> <a id="planet_feed_url" href="about:blank">-</a></span><br/>'),$("#planet_feed_url").text(feed_url).attr("href",feed_url),feed_url):!1}function d(a,b){if(a<b[0])return b[0];for(var c=0;c<=b.length;++c)if(a<b[c])return a-b[c-1]<b[c]-a&&b[c-1]||b[c];return b[b.length-1]}function e(a,b){for(var c=0;c<b.length&&a!=b[c];c++);return c>=1?b[c-1]:b[c]}function f(a,b){for(var c=0;c<b.length&&a!=b[c];c++);return c<b.length-1?b[c+1]:b[c]}function g(a,b,c){for(var e=0;e<a.mode.length;++e)a.mode[e].checked&&(b.mode=a.mode[e].value);b.mode||(c.mode="Bitte eine Art auswählen!"),isNaN(a.count.value)||a.count.value.length<1?(c.count="Bitte eine Zahl zwischen 10 und 100 eingeben!",a.count.value=b.count||"20"):b.count=a.count.value=d(a.count.value,h)}if(!(navigator.userAgent.indexOf("KHTML")>=0)){var h=[10,20,30,50,75,100],i="http://forum."+$BASE_DOMAIN_NAME+"/",j=("http://wiki."+$BASE_DOMAIN_NAME+"/","http://ikhaya."+$BASE_DOMAIN_NAME+"/"),k="http://planet."+$BASE_DOMAIN_NAME+"/";$(document).ready(function(){$("#id_forum_forum").change(function(){$("#id_forum_component_forum")[0].checked=!0}),$("#forum").change(a),$("#ikhaya").change(b),$("#planet").change(c),$(".feed_count").after(' <span class="feed_count_adjust">'),$(".feed_count_adjust").append('<img class="feed_count_increase" src="'+$STATIC_URL+'img/arrow-up.gif" />').append('<img class="feed_count_decrease" src="'+$STATIC_URL+'img/arrow-down.gif" />'),$(".feed_count_increase").click(function(){var a=document.getElementById($(this).parent().siblings()[0].htmlFor);a.value=f(a.value,h),$(a.form).change()}).css("cursor","pointer"),$(".feed_count_decrease").click(function(){var a=document.getElementById($(this).parent().siblings()[0].htmlFor);a.value=e(a.value,h),$(a.form).change()}).css("cursor","pointer")})}}();