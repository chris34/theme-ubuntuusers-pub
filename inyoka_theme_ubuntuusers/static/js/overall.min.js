/**
 * Inyoka ubuntuusers.de theme
 * 2015-01-03 17:12:45
 * https://github.com/inyokaproject/theme-ubuntuusers
 * :copyright: (c) 2007-2015 by the Inyoka Team
 * :license: BSD
 */
$(document).ready(function(){var a=null;!function(){var a=$("<div>").appendTo("body").css({height:0,overflow:"hidden"});$.each([],function(){$("<img />").attr("src",$STATIC_URL+this).appendTo(a)})}(),$.each($("div.message"),function(a,b){$(b).prepend($('<a href="#" class="hide" />').click(function(){return $(this).parent().hasClass("global")&&$.post("/?__service__=portal.hide_global_message",{}),$(this).parent().slideUp("slow"),!1}))}),$("a.hide_searchwords").click(function(){return $(this).parent().slideUp("slow"),$("span.highlight").removeClass("highlight"),!1}),function(){$(".toc").length&&(navigator.userAgent.match(/konqueror/i)||document.location.href.indexOf("/full/")>=0||($(".toc .head").append($("<a> [-]</a>").toggle(function(){$(this).text(" [+]").parent().next().slideUp("fast")},function(){$(this).text(" [-]").parent().next().slideDown("fast")})),$(".toc").each(function(){toc=$(this);for(var a=this.className.split(/\s+/),b=0;b<a.length;b++)if(a[b].match(/^toc-depth-(\d+)$/)){tocDepth=parseInt(a[b].slice(10),10);break}if("undefined"!=typeof tocDepth){style=toc.find("ol").first().attr("class"),toc.find("ol").addClass("originaltoc");var c=function(a){return $('<ol class="toc-item-depth-'+a+'"></ol>')},d=$("<li></li>"),e=$('<li style="list-style: none"></li>'),f=[];f.push(c(1));var g=1;$(".headerlink").each(function(){var a=$(this).parent().parent().attr("class"),b=a.match(/^section_(\d+)$/);if(null===b)return!0;var i=parseInt(b[1],10);if(i>g){h=i-g;for(var j=1;h>j;j++)f.push(c(g+j)),f[f.length-1].append(e.clone());f.push(c(i))}else if(g>i){h=g-i;for(var j=0;h>j;j++){var k=f.pop(),l=f[f.length-1].children();l.length>0?l.last().append(k):f[f.length-1].append(e.clone().append(k))}}var m=42-2*(i-1),n=$(this).parent().attr("id"),o=$(this).parent().text();o=o.substr(0,o.length-1).substr(0,m),f[f.length-1].append(d.clone().append($('<a href="#'+n+'" class="crosslink">'+o+"</a>"))),g=i});for(var h=g-1,b=0;h>b;b++){var i=f.pop(),j=f[f.length-1].children();j.length>0?j.last().append(i):f[f.length-1].append(e.clone().append(i))}newtoc=f[0].insertAfter(toc.find(".head")),toc.find(".originaltoc").remove();var k=$('<a class="toctoggle"> [-] </a>');toc.find("ol ol").each(function(){var a=k.clone();a.insertBefore($(this)).toggle(function(){$(this).text(" [+] ").next().slideUp("fast")},function(){$(this).text(" [-] ").next().slideDown("fast")});var b=$(this).attr("class").split(/\s+/);parseInt(b[b.length-1].slice(15),10)>=tocDepth&&a.click()})}})))}(),function(){if("konqueror"!=navigator.appName.toLowerCase()){var b=!1,c=$("select.search_area").val(),d=$("select.search_area option:selected").html(),e=$('<ul class="search_area" />'),f=$("select.search_area").hide();$(".search_query").addClass("area_"+c),$("form.search").submit(function(){var a=$(this).attr("action"),b=$("input.search_query").val();return $("input.search_query").hasClass("default_value")&&(b=""),b&&(a+="?query="+encodeURIComponent(b)+"&area="+c),document.location.href=a,!1}).append($('<div class="search_expander" />').click(function(){return b?e.toggle():(b=!0,$("option",f).each(function(){var a=$(this).val(),b=$("<li />").text($(this).text()).addClass("area_"+$(this).val()).click(function(){return d=$(this).html(),$(".search_query").removeClass("area_"+c),c=a,d=$("select.search_area option[value="+c+"]").html(),$(".search_query").addClass("area_"+c),$("li",e).each(function(){$(this).removeClass("active")}),$(this).addClass("active").parent(),$(".search_query").focus(),e.hide(),!1}).appendTo(e);a==c&&b.addClass("active")}),e.prependTo("form.search")),!1})),$(".search_query").addClass("search_query_js").blur(function(){var a=$(this);(""==a.val()||a.val()==d)&&a.addClass("default_value").val(d)}).focus(function(){var a=$(this);a.hasClass("default_value")&&a.val("").removeClass("default_value")}),$(".search_query").blur(),$(document).click(function(){e.is(":visible")&&e.hide(),a&&a.is(":visible")&&a.slideUp()})}}(),function(){var a=$(".navi_sidebar");if(a.length){var b=$('<button class="navi_toggle_up" title="Navigation ausblenden" />').click(function(){return $(".content").toggleClass("content_sidebar"),a.toggle(),b.toggleClass("navi_toggle_up").toggleClass("navi_toggle_down"),$IS_LOGGED_IN&&$.get("/?__service__=portal.toggle_sidebar",{hide:!a.is(":visible"),component:window.location.hostname.split(".")[0]}),!1}).insertAfter("form.search");$SIDEBAR_HIDDEN&&b.click()}}(),function(){var a=!1;$("form").submit(function(){return $(this).hasClass("nosubmitprotect")?!0:a?!1:($('input[type="submit"]').addClass("disabled"),void(a=!0))})}(),$(".package-list-apturl, .package-list").each(function(a,b){var c=$(".bash",b),d=c[0],e=c[1];$(e).hide(),$($("p",b)[0]).append($("<a>apt-get</a>").click(function(){$(this).parent().children().css("font-weight",""),$(this).css("font-weight","bold"),$(d).show(),$(e).hide()}).click()," ",$("<a>aptitude</a>").click(function(){$(this).parent().children().css("font-weight",""),$(this).css("font-weight","bold"),$(e).show(),$(d).hide()})),$(b).hasClass("package-list-apturl")&&$($("p",b)[0]).append(" ",$("<a>apturl</a>").attr("href","apt://"+$.trim($(d).text()).split(" ").slice(3).join(",")))}),$("div.code").add("pre.notranslate").each(function(){this.clientHeight<this.scrollHeight&&$(this).before('<div class="codeblock_resizer">vergrößern</div>').css("height","15em").css("max-height","none").data("original_height",this.clientHeight)}),function(){"konqueror"!=navigator.appName.toLowerCase()&&$(".codeblock_resizer").click(function(){$codeblock=$(this).next(),$codeblock.hasClass("codeblock_expanded")?($codeblock.removeClass("codeblock_expanded"),$codeblock.animate({height:$codeblock.data("original_height")},500),$(this).text("vergrößern")):($codeblock.addClass("codeblock_expanded"),$codeblock.animate({height:$codeblock[0].scrollHeight},500),$(this).text("verkleinern"))})}(),function(){var a=["karmic","lucid","maverick"],b=function(b){var c=$(b);return group=c.parent().parent(),version=c.text().toLowerCase(),group.find(".ppa-code").remove(),sel=group.find(".selector"),c.addClass("active").siblings("a").removeClass("active"),sel.after('<pre class="ppa-code">'+group.data("long_notation_text").replace(/VERSION/,version)+"</div></pre>"),$.inArray(version,a)>-1&&(sel.after('<p class="ppa-code">Für die <strong>sources.list</strong>:</p>'),sel.after('<p class="ppa-code">'+group.data("short_notation_text")+"</p>")),!1};$(".ppa-list-outer").each(function(){$this=$(this);var a,c=[];classes=this.className.split(/\s+/);for(var d=0;d<classes.length;d++)classes[d].match(/^ppa-version-/)&&(a=classes[d].slice(12),c.push(a));$this.data("short_notation_text",$this.find(".ppa-list-short-code .contents p").html()),$this.data("long_notation_text",$this.find(".ppa-list-long-code .contents pre").html()),$this.children(".contents").remove(),sel=$('<p class="selector">').appendTo($this),sel.prepend("<strong>Version: </strong>");for(var e=function(){return b(this)},d=0;d<c.length;d++)a=c[d],latest_link=$('<a href="#">').text(a.substr(0,1).toUpperCase()+a.substr(1)).click(e).appendTo(sel).after('<span class="linklist"> | </span>');latest_link.next(".linklist").remove(),b(latest_link[0])})}(),function(){var a=function(a){return version=$(a).text().toLowerCase(),$(a).addClass("active").siblings("a").removeClass("active"),sel=$(a).parent(),sel.siblings("pre").text(sel.data("deb-url-orig").replace(/VERSION/,version)),!1};$(".thirdpartyrepo-outer").each(function(){var b,c=[],d=function(){return a(this)};classes=this.className.split(/\s+/);for(var e=0;e<classes.length;e++)classes[e].match(/^thirdpartyrepo-version-/)&&(version=classes[e].slice(23),c.push(version));sel=$('<div class="selector">').insertBefore($(this).find(".contents pre")),sel.prepend("<strong>Version: </strong>").data("deb-url-orig",$(this).find(".contents pre").text());for(var e=0;e<c.length;e++)b=$('<a href="#">').text(c[e].substr(0,1).toUpperCase()+c[e].substr(1)).click(d).appendTo(sel).after('<span class="linklist"> | </span>');return b.next().remove(),a(b[0]),!0})}();var b=/admin_menu\=([01])/.exec(document.cookie),c=null!=b?b[1]:1;1==c?($(".admin_link").removeClass("admin_link").addClass("admin_link_js").show(),$("#admin_layer_button").addClass("highlight")):$(".admin_link").removeClass("admin_link").addClass("admin_link_js").hide(),$(".admin_link_hover").removeClass("admin_link_hover"),$("#admin_layer_button").click(function(){$(".admin_link_js").each(function(){"none"!=$(this).css("display")?$(this).fadeOut("fast",function(){$(this).hide()}):$(this).fadeIn("fast",function(){$(this).show()})}),c=0==c?1:0,1==c?$("#admin_layer_button").addClass("highlight"):$("#admin_layer_button").removeClass("highlight");var a=new Date,b=a.getTime()+31536e6;a.setTime(b);var d,e="expires="+a.toGMTString();d=$BASE_DOMAIN_NAME.indexOf(":")>0?"domain=."+$BASE_DOMAIN_NAME.substring(0,$BASE_DOMAIN_NAME.indexOf(":")):"domain=."+$BASE_DOMAIN_NAME,document.cookie="admin_menu="+c+"; "+e+"; "+d+"; path=/"})}),function(){OpenIDHelper=Class.$extend({__init__:function(a,b){var c=this,a=$(a),d=['input[name="password"]','label[for="id_password"]','label[for="js_login_password"]'];$(a).keydown(function(){if("http"==$(a).val().slice(0,4)){$('input[name="password"]').val("");for(idx in d)$(d[idx]).hide()}else for(idx in d)$(d[idx]).show()});for(var e in b){var f=b[e].name,g=$('<img src="'+$STATIC_URL+"img/openid/"+e+'.png" class="openid_logo" id="openid_'+e+'" alt="'+f+'" title="'+f+' benutzen" />').click(function(){$(a).val(""),p=$(this).attr("id").substring(7),null==b[p].url?($(a).val("http://"),$(a).focus()):c.setSelection($(a),b[p].url,"{username}",!0)}).css("cursor","pointer");g.insertAfter($(a))}},setSelection:function(a,b,c,d){var e=$(a)[0];if("undefined"!=typeof e.selectionStart){var f=b.indexOf(c),g=b.indexOf(c)+c.length,h=e.value.substring(0,f),i=e.value.substring(g);if(e.value=h+b+i,-1==f)return void a.closest("form").submit();e.focus(),d?(e.selectionStart=f,e.selectionEnd=g):e.selectionEnd=e.selectionStart=f+b.length}else if("undefined"!=typeof document.selection){e.focus();var j=document.selection.createRange();j.text=b}}})}(),String.prototype.htmlEscape=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/,"&quot;")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},$(document).ready(function(){$("a.toggle_menu").click(function(){$("#top_menu").toggle()}),$(window).hashchange(function(){"#menu"==location.hash?$("#top_menu").show():""===location.hash&&$("#top_menu").hide()}),$(".pagination").each(function(){$(this).find("select").change(function(){var a=$(this).find("option:selected").text(),b=$(this).parent().parent().find("span.link_base").text();"1"!=a&&(b+=a),window.location=b})})});